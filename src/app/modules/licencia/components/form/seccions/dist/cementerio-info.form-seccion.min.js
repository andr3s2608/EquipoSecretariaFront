"use strict";var __awaiter=this&&this.__awaiter||function(e,n,l,c){return new(l=l||Promise)(function(t,r){function i(e){try{o(c.next(e))}catch(e){r(e)}}function a(e){try{o(c.throw(e))}catch(e){r(e)}}function o(e){e.done?t(e.value):function(t){return t instanceof l?t:new l(function(e){e(t)})}(e.value).then(i,a)}o((c=c.apply(e,n||[])).next())})},__generator=this&&this.__generator||function(r,i){var a,o,n,e,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(n=2&t[0]?o.return:t[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,t[1])).done)return n;switch(o=0,n&&(t=[2&t[0],n.value]),t[0]){case 0:case 1:n=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(n=0<(n=l.trys).length&&n[n.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!n||t[1]>n[0]&&t[1]<n[3])){l.label=t[1];break}if(6===t[0]&&l.label<n[1]){l.label=n[1],n=t;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(t);break}n[2]&&l.ops.pop(),l.trys.pop();continue}t=i.call(r,l)}catch(e){t=[6,e],o=0}finally{a=n=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};exports.__esModule=!0;var react_1=require("react"),form_1=require("antd/es/form"),radio_1=require("antd/es/radio"),input_1=require("antd/es/input"),divider_1=require("antd/es/divider"),select_component_1=require("app/shared/components/inputs/select.component"),dominio_service_1=require("app/services/dominio.service");exports.CementerioInfoFormSeccion=function(e){var t,r,i,a=e.form,o=e.tipoLicencia,l=e.obj,n=react_1.useState({municipio:"",departament:""}),c=n[0],u=n[1],d=react_1.useState([]),m=d[0],s=d[1],f=react_1.useState([[],[],[]]),_=f[0],p=_[0],v=_[1],b=_[2],g=f[1],h=react_1.useCallback(function(){return __awaiter(void 0,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,Promise.all([dominio_service_1.dominioService.get_departamentos_colombia(),dominio_service_1.dominioService.get_cementerios_bogota(),dominio_service_1.dominioService.get_type(dominio_service_1.ETipoDominio.Pais)])];case 1:return t=e.sent(),g(t),[2]}})})},[]);react_1.useEffect(function(){h()},[]);function E(r){return __awaiter(void 0,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return a.resetFields(["cementerioMunicipio"]),[4,dominio_service_1.dominioService.get_municipios_by_departamento(r)];case 1:return t=e.sent(),s(t),[2]}})})}function C(r){return __awaiter(void 0,void 0,void 0,function(){var t;return __generator(this,function(e){return t=a.getFieldValue("cementerioDepartamento"),u({departament:t,municipio:r}),[2]})})}var y=null===(t=l)||void 0===t?void 0:t.isLugar(),w=react_1.useState(y),P=w[0],S=w[1];return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(divider_1.default,{orientation:"right"},"Datos del Cementerio a realizar la ",o),react_1.default.createElement(form_1.default.Item,{className:"mb-4",label:"Lugar del cementerio",name:"cementerioLugar",initialValue:(i=null===(r=l)||void 0===r?void 0:r.isLugar(),null!=i?i:"Dentro de Bogotá"),rules:[{required:!0}]},react_1.default.createElement(radio_1.default.Group,{onChange:function(e){a.resetFields(["cementerioBogota","cementerioDepartamento","cementerioMunicipio","cementerioPais","cementerioCiudad"]),s([]),S(e.target.value)}},react_1.default.createElement(radio_1.default,{value:"Dentro de Bogotá"},"DENTRO DE BOGOTÁ"),react_1.default.createElement("br",null),react_1.default.createElement(radio_1.default,{value:"Fuera de Bogotá"},"FUERA DE BOGOTÁ"),react_1.default.createElement("br",null),react_1.default.createElement(radio_1.default,{value:"Fuera del País"},"FUERA DEL PAÍS"))),function(e){var t,r,i,a,o,n;switch(e){case"Fuera de Bogotá":return react_1.default.createElement("div",{className:"fadeInRight"},react_1.default.createElement(form_1.default.Item,{label:"Departamento de Colombia",name:"cementerioDepartamento",rules:[{required:!0}],initialValue:null===(t=l)||void 0===t?void 0:t.cementerioDepartamento},react_1.default.createElement(select_component_1.SelectComponent,{options:p.filter(function(e){return"BOGOTÁ D.C."!==e.descripcion}),optionPropkey:"descripcion",optionPropLabel:"descripcion",onChange:E})),react_1.default.createElement(form_1.default.Item,{label:"Municipio",name:"cementerioMunicipio",initialValue:null===(r=l)||void 0===r?void 0:r.cementerioMunicipio,rules:[{required:!0}]},react_1.default.createElement(select_component_1.SelectComponent,{options:m,optionPropkey:"descripcion",onChange:C,optionPropLabel:"descripcion"})),"1029c7b3-e8c7-46e6-8275-3e568e06e03c"===c.departament&&"b5c40416-db96-4d1d-a5bd-da0ce61930e7"===c.municipio&&react_1.default.createElement(form_1.default.Item,{label:"Otro sitio",name:"otro",rules:[{required:!0}],initialValue:null===(i=l)||void 0===i?void 0:i.otro},react_1.default.createElement(input_1.default,{allowClear:!0,placeholder:"Otro Sitio",autoComplete:"off"})));case"Fuera del País":return react_1.default.createElement("div",{className:"fadeInRight"},react_1.default.createElement(form_1.default.Item,{label:"País",name:"cementerioPais",rules:[{required:!0}],initialValue:null===(a=l)||void 0===a?void 0:a.cementerioPais},react_1.default.createElement(select_component_1.SelectComponent,{options:b.filter(function(e){return"Colombia"!==e.descripcion}),optionPropkey:"descripcion  ",optionPropLabel:"descripcion"})),react_1.default.createElement(form_1.default.Item,{label:"Ciudad",name:"cementerioCiudad",initialValue:null===(o=l)||void 0===o?void 0:o.cementerioCiudad,rules:[{required:!0}]},react_1.default.createElement(input_1.default,{allowClear:!0,placeholder:"Ciudad",autoComplete:"off"})));default:return react_1.default.createElement(form_1.default.Item,{className:"fadeInRight",label:"Cementerio de Bogotá D.C.",name:"cementerioBogota",initialValue:null===(n=l)||void 0===n?void 0:n.cementerioBogota,rules:[{required:!0}]},react_1.default.createElement(select_component_1.SelectComponent,{options:v,optionPropkey:"RAZON_S",optionPropLabel:"RAZON_S"}))}}(P))},exports.KeysForm=["cementerioLugar","cementerioBogota","cementerioDepartamento","cementerioMunicipio","cementerioPais","cementerioCiudad"];
//# sourceMappingURL=cementerio-info.form-seccion.min.js.map
