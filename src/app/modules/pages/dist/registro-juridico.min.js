"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,i,c,u){return new(c=c||Promise)(function(t,a){function r(e){try{o(u.next(e))}catch(e){a(e)}}function n(e){try{o(u.throw(e))}catch(e){a(e)}}function o(e){e.done?t(e.value):function(t){return t instanceof c?t:new c(function(e){e(t)})}(e.value).then(r,n)}o((u=u.apply(e,i||[])).next())})},__generator=this&&this.__generator||function(a,r){var n,o,i,e,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(a,c)}catch(e){t=[6,e],o=0}finally{n=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};exports.__esModule=!0;var page_header_component_1=require("app/shared/components/page-header.component"),authprovider_util_1=require("app/shared/utils/authprovider.util"),form_1=require("antd/es/form"),form_layout_util_1=require("app/shared/utils/form-layout.util"),BasicaInformacion_1=require("./components/form/BasicaInformacion"),select_component_1=require("app/shared/components/inputs/select.component"),react_1=require("react"),tabs_1=require("antd/es/tabs"),input_1=require("antd/es/input"),button_1=require("antd/es/button"),react_router_1=require("react-router"),Apis_service_1=require("app/services/Apis.service"),grid_actions_1=require("app/redux/Grid/grid.actions"),app_reducers_1=require("app/redux/app.reducers"),TabPane=tabs_1.default.TabPane,RegistroPage=function(e){var n=react_router_1.useHistory(),o=authprovider_util_1.authProvider.getAccount().accountIdentifier,t=form_1.default.useForm()[0],a=react_1.useState(!0),r=(a[0],a[1],react_1.useState([])),i=(r[0],r[1],react_1.useState([[],[]])),c=i[0],u=(c[0],c[1],i[1],new Apis_service_1.ApiService(o)),l=react_1.useState([]),s=l[0],d=l[1],p=react_1.useCallback(function(){return __awaiter(void 0,void 0,void 0,function(){var t,a;return __generator(this,function(e){switch(e.label){case 0:return[4,u.getTipoDocumeto()];case 1:return t=e.sent(),a=t.map(function(e){return{id:e.idTipoIdentificacion,descripcion:e.descripcion}}),d(a),[2]}})})},[]);react_1.useEffect(function(){p()},[]);return react_1.default.createElement("div",{className:"fadeInTop container-fluid"},react_1.default.createElement(page_header_component_1.PageHeaderComponent,{title:"Registro Persona Jurídica. \n Datos Básicos.",subTitle:"Por favor registre los datos exactamente como aparecen en la Registro de Cámara de Comercio, estos \n                datos serán usados para la generación de los Documentos asociados al trámite solicitado y su posterior reporte a\n                entidades de vigilancia y control.",backIcon:null}),react_1.default.createElement("div",{className:"card card-body"},react_1.default.createElement("h4",{className:"app-subtitle mt-3"},"Datos Básicos."),react_1.default.createElement(form_1.default,__assign({form:t,className:"mb-4 w-100"},form_layout_util_1.layoutItems,{style:{maxWidth:800},layout:"horizontal",onFinish:function(r){return __awaiter(void 0,void 0,void 0,function(){var t,a;return __generator(this,function(e){switch(e.label){case 0:return t={primerNombre:r.name,segundoNombre:r.secondName,primerApellido:r.surname,segundoApellido:r.secondSurname,tipoDocumento:r.TipoIdent,numeroIdentificacion:Number(r.nit),telefonoFijo:r.phone,telefonoCelular:r.phonecell,email:r.email,tipoDocumentoRepresentanteLegal:r.instTipoIdent,numeroDocumentoRepresentanteLegal:Number(r.instNumIdent),nombreRazonSocial:r.razonsocial},[4,u.personaJuridica(t)];case 1:return"number"!=typeof(a=e.sent())?[3,4]:[4,u.putUser({oid:o,idPersonaVentanilla:a})];case 2:return e.sent(),[4,u.PostRolesUser({idUser:o,idRole:"58EDA51F-7E19-47C4-947F-F359BD1FC732"})];case 3:e.sent(),localStorage.setItem(o,a.toString()),app_reducers_1.store.dispatch(grid_actions_1.SetGrid({key:"relaodMenu"})),n.push("/"),e.label=4;case 4:return[2]}})})},onFinishFailed:function(){}}),react_1.default.createElement(form_1.default.Item,{label:"Razón Social",name:"razonsocial",rules:[{required:!0,max:25}]},react_1.default.createElement(input_1.default,{allowClear:!0,placeholder:"Razón Social",autoComplete:"off"})),react_1.default.createElement(form_1.default.Item,{label:"Tipo Identificación",initialValue:5,name:"TipoIdent",rules:[{required:!0}]},react_1.default.createElement(select_component_1.SelectComponent,{options:s,optionPropkey:"id",optionPropLabel:"descripcion"})),react_1.default.createElement(form_1.default.Item,{label:"NIT",initialValue:"",name:"nit",rules:[{required:!0}]},react_1.default.createElement(input_1.default,{allowClear:!0,type:"tel",placeholder:"Número Identificación",autoComplete:"off"})),react_1.default.createElement("h4",{className:"app-subtitle mt-3"},"Representante Legal."),react_1.default.createElement(BasicaInformacion_1.BasicaInformacion,{form:t}),react_1.default.createElement(form_1.default.Item,__assign({},form_layout_util_1.layoutWrapper,{className:"mb-0 mt-4"}),react_1.default.createElement("div",{className:"d-flex justify-content-between"},react_1.default.createElement(button_1.default,{type:"dashed",htmlType:"button",onClick:function(){n.goBack()}},"Volver atrás"),react_1.default.createElement(button_1.default,{type:"primary",htmlType:"submit"},"Guardar"))))))};exports.default=RegistroPage;
//# sourceMappingURL=registro-juridico.min.js.map
