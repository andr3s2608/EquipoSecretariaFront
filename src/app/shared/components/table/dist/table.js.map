{"version":3,"sources":["table.tsx"],"names":[],"mappings":"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","file":"table.js","sourcesContent":["import { Button, Modal } from 'antd';\r\nimport Table from 'antd/es/table';\r\nimport { IRoles } from 'app/Models/IRoles';\r\nimport { ApiService } from 'app/services/Apis.service';\r\nimport { authProvider } from 'app/shared/utils/authprovider.util';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport { columnFake, dataFake } from './model';\r\nimport { CheckOutlined, EyeOutlined, FilePdfOutlined } from '@ant-design/icons';\r\nimport { useHistory } from 'react-router';\r\n\r\ninterface IDataSource {\r\n  data: Array<any>;\r\n}\r\n\r\nexport const Gridview = (props: IDataSource) => {\r\n  const history = useHistory();\r\n  const { data } = props;\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [roles, setroles] = useState<IRoles[]>([]);\r\n  const { accountIdentifier } = authProvider.getAccount();\r\n  const api = new ApiService(accountIdentifier);\r\n\r\n  const getListas = useCallback(\r\n    async () => {\r\n      const mysRoles = await api.GetRoles();\r\n      setroles(mysRoles);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n\r\n  //const getMenu = UpdateMenu();\r\n\r\n  useEffect(() => {\r\n    getListas();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const structureColumns = [\r\n    {\r\n      title: 'Tipo Trámite',\r\n      dataIndex: 'tramite',\r\n      key: 'tramite'\r\n    },\r\n    {\r\n      title: 'Fecha Radicación',\r\n      dataIndex: 'fechaSolicitud',\r\n      key: 'fechaSolicitud'\r\n    },\r\n    {\r\n      title: 'Numero Licencia',\r\n      dataIndex: 'numeroCertificado',\r\n      key: 'numeroCertificado'\r\n    },\r\n\r\n    {\r\n      title: 'Estado',\r\n      dataIndex: 'solicitud',\r\n      key: 'solicitud'\r\n    },\r\n    {\r\n      title: 'PDF',\r\n      dataIndex: 'pdf',\r\n      key: 'pdf',\r\n      render: () => <FilePdfOutlined style={{ fontSize: '30px' }} />\r\n    },\r\n    {\r\n      title: 'Acciones',\r\n      key: 'Acciones',\r\n\r\n      render: (_: any, row: any, index: any) => {\r\n        const [permiso] = roles;\r\n\r\n        return permiso.rol === 'Ciudadano' ? (\r\n          <Button key={index} type='primary' onClick={showModal} icon={<EyeOutlined />}>\r\n            Ver\r\n          </Button>\r\n        ) : permiso.rol === 'Funcionario' ? (\r\n          <>\r\n            <Button type='primary' key={`ver-${index}`} onClick={showModal} icon={<EyeOutlined />}>\r\n              Ver\r\n            </Button>\r\n\r\n            <Button\r\n              type='primary'\r\n              key={`vali-${index}`}\r\n              onClick={() => onClickValidarInformacion(row)}\r\n              style={{ marginLeft: '5px' }}\r\n              icon={<CheckOutlined />}\r\n            >\r\n              Validar Informacion\r\n            </Button>\r\n          </>\r\n        ) : null;\r\n      }\r\n    }\r\n  ];\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const onClickValidarInformacion = async ({ idSolicitud }: { [x: string]: string }) => {\r\n    const data = await api.getLicencia(idSolicitud);\r\n    const { idTramite } = data[0];\r\n\r\n    localStorage.setItem('register', JSON.stringify(data));\r\n\r\n    switch (idTramite) {\r\n      case 'a289c362-e576-4962-962b-1c208afa0273':\r\n        //inhumacion indivual\r\n        history.push('/tramites-servicios/licencia/inhumacion-individual');\r\n        break;\r\n      case 'ad5ea0cb-1fa2-4933-a175-e93f2f8c0060':\r\n        //inhumacion fetal\r\n        history.push('/tramites-servicios/licencia/inhumacion-fetal');\r\n        break;\r\n      case 'e69bda86-2572-45db-90dc-b40be14fe020':\r\n        //cremacion individual\r\n        history.push('/tramites-servicios/licencia/cremacion-individual');\r\n        break;\r\n      case 'f4c4f874-1322-48ec-b8a8-3b0cac6fca8e':\r\n        //cremacionfetal\r\n        history.push('/tramites-servicios/licencia/cremacion-fetal');\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='card card-body py-5 mb-4 fadeInTop'>\r\n      <div className='d-lg-flex align-items-start'>\r\n        <Table dataSource={data} columns={structureColumns} pagination={{ pageSize: 50 }} />\r\n      </div>\r\n      <Modal\r\n        title={<h3>Tabla de Seguimiento</h3>}\r\n        visible={isModalVisible}\r\n        onCancel={handleCancel}\r\n        width={1000}\r\n        okButtonProps={{ hidden: true }}\r\n        cancelText='Cerrar'\r\n      >\r\n        <Table dataSource={dataFake} columns={columnFake} pagination={{ hideOnSinglePage: true }} />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n"]}