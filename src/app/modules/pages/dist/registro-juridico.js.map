{"version":3,"sources":["registro-juridico.tsx"],"names":[],"mappings":"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","file":"registro-juridico.js","sourcesContent":["// Componentes\r\nimport { PageHeaderComponent } from 'app/shared/components/page-header.component';\r\n\r\n// Utilidades\r\nimport { projectInfo } from 'app/shared/utils/constants.util';\r\nimport { authProvider } from 'app/shared/utils/authprovider.util';\r\nimport Form from 'antd/es/form';\r\nimport { layoutItems, layoutWrapper } from 'app/shared/utils/form-layout.util';\r\nimport { BasicaInformacion } from './components/form/BasicaInformacion';\r\nimport { SelectComponent } from 'app/shared/components/inputs/select.component';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { dominioService, ETipoDominio, IDepartamento, IDominio, IMunicipio } from 'app/services/dominio.service';\r\nimport Tabs from 'antd/es/tabs';\r\nimport Alert from 'antd/es/alert';\r\nimport Input from 'antd/es/input';\r\nimport Button from 'antd/es/button';\r\nimport { useHistory } from 'react-router';\r\nimport { ApiService } from 'app/services/Apis.service';\r\nimport { SetGrid } from 'app/redux/Grid/grid.actions';\r\nimport { store } from 'app/redux/app.reducers';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst RegistroPage: React.FC<any> = (props) => {\r\n  const history = useHistory();\r\n  const { accountIdentifier } = authProvider.getAccount();\r\n  const [form] = Form.useForm<any>();\r\n  const [isColombia, setIsColombia] = useState(true);\r\n\r\n  const [l_municipios, setLMunicipios] = useState<IMunicipio[]>([]);\r\n  const [[l_departamentos_colombia, l_paises], setListas] = useState<[IDepartamento[], IDominio[]]>([[], []]);\r\n\r\n  const api = new ApiService(accountIdentifier);\r\n\r\n  const [l_tipos_documento, setListaTipoDocumento] = useState<IDominio[]>([]);\r\n\r\n  const getListas = useCallback(\r\n    async () => {\r\n      const tipoDocumento = await api.getTipoDocumeto();\r\n      const listDocument = tipoDocumento.map((res: any) => {\r\n        return { id: res.idTipoIdentificacion, descripcion: res.descripcion };\r\n      });\r\n      setListaTipoDocumento(listDocument);\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    getListas();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const goBack = () => {\r\n    history.goBack();\r\n  };\r\n  const defaultValues = {\r\n    identity: 1,\r\n    identification: ''\r\n  };\r\n  const onSubmit = async (value: any) => {\r\n    const json = {\r\n      primerNombre: value.name,\r\n      segundoNombre: value.secondName,\r\n      primerApellido: value.surname,\r\n      segundoApellido: value.secondSurname,\r\n      tipoDocumento: value.TipoIdent, //listado tipos de documentos\r\n      numeroIdentificacion: Number(value.nit),\r\n      telefonoFijo: value.phone,\r\n      telefonoCelular: value.phonecell,\r\n      email: value.email,\r\n      tipoDocumentoRepresentanteLegal: value.instTipoIdent, //listado tipos de documentos\r\n      numeroDocumentoRepresentanteLegal: Number(value.instNumIdent),\r\n      nombreRazonSocial: value.razonsocial\r\n    };\r\n\r\n    const resApi = await api.personaJuridica(json);\r\n\r\n    if (typeof resApi === 'number') {\r\n      await api.putUser({\r\n        oid: accountIdentifier,\r\n        idPersonaVentanilla: resApi,\r\n      });\r\n\r\n      await api.PostRolesUser({\r\n        idUser: accountIdentifier,\r\n        idRole: '58EDA51F-7E19-47C4-947F-F359BD1FC732'\r\n      });\r\n      localStorage.setItem(accountIdentifier, resApi.toString());\r\n      store.dispatch(SetGrid({ key: 'relaodMenu' }));\r\n      history.push('/');\r\n    }\r\n\r\n  };\r\n  const onSubmitFailed = () => { };\r\n  return (\r\n    <div className='fadeInTop container-fluid'>\r\n      <PageHeaderComponent\r\n        title={`Registro Persona Jurídica. \\n Datos Básicos.`}\r\n        subTitle={`Por favor registre los datos exactamente como aparecen en la Registro de Cámara de Comercio, estos \r\n                datos serán usados para la generación de los Documentos asociados al trámite solicitado y su posterior reporte a\r\n                entidades de vigilancia y control.`}\r\n        backIcon={null}\r\n      />\r\n\r\n      <div className='card card-body'>\r\n        <h4 className='app-subtitle mt-3'>Datos Básicos.</h4>\r\n\r\n        <Form\r\n          form={form}\r\n          className='mb-4 w-100'\r\n          {...layoutItems}\r\n          style={{ maxWidth: 800 }}\r\n          layout='horizontal'\r\n          onFinish={onSubmit}\r\n          onFinishFailed={onSubmitFailed}\r\n        >\r\n          <Form.Item label='Razón Social' name='razonsocial' rules={[{ required: true, max: 25 }]}>\r\n            <Input allowClear placeholder='Razón Social' autoComplete='off' />\r\n          </Form.Item>\r\n\r\n          <Form.Item label='Tipo Identificación' initialValue={5} name='TipoIdent' rules={[{ required: true }]}>\r\n            <SelectComponent options={l_tipos_documento} optionPropkey='id' optionPropLabel='descripcion' />\r\n          </Form.Item>\r\n\r\n          <Form.Item label='NIT' initialValue={defaultValues.identification} name='nit' rules={[{ required: true }]}>\r\n            <Input allowClear type='tel' placeholder='Número Identificación' autoComplete='off' />\r\n          </Form.Item>\r\n\r\n          <h4 className='app-subtitle mt-3'>Representante Legal.</h4>\r\n\r\n          <BasicaInformacion form={form} />\r\n\r\n          <Form.Item {...layoutWrapper} className='mb-0 mt-4'>\r\n            <div className='d-flex justify-content-between'>\r\n              <Button type='dashed' htmlType='button' onClick={goBack}>\r\n                Volver atrás\r\n              </Button>\r\n              <Button type='primary' htmlType='submit'>\r\n                Guardar\r\n              </Button>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegistroPage;\r\n"]}