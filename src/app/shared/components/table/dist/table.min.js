"use strict";var __awaiter=this&&this.__awaiter||function(e,c,o,l){return new(o=o||Promise)(function(t,a){function r(e){try{i(l.next(e))}catch(e){a(e)}}function n(e){try{i(l.throw(e))}catch(e){a(e)}}function i(e){e.done?t(e.value):function(t){return t instanceof o?t:new o(function(e){e(t)})}(e.value).then(r,n)}i((l=l.apply(e,c||[])).next())})},__generator=this&&this.__generator||function(a,r){var n,i,c,e,o={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(c=2&t[0]?i.return:t[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,t[1])).done)return c;switch(i=0,c&&(t=[2&t[0],c.value]),t[0]){case 0:case 1:c=t;break;case 4:return o.label++,{value:t[1],done:!1};case 5:o.label++,i=t[1],t=[0];continue;case 7:t=o.ops.pop(),o.trys.pop();continue;default:if(!(c=0<(c=o.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){o=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3])){o.label=t[1];break}if(6===t[0]&&o.label<c[1]){o.label=c[1],c=t;break}if(c&&o.label<c[2]){o.label=c[2],o.ops.push(t);break}c[2]&&o.ops.pop(),o.trys.pop();continue}t=r.call(a,o)}catch(e){t=[6,e],i=0}finally{n=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};exports.__esModule=!0;var antd_1=require("antd"),table_1=require("antd/es/table"),Apis_service_1=require("app/services/Apis.service"),authprovider_util_1=require("app/shared/utils/authprovider.util"),react_1=require("react"),model_1=require("./model"),icons_1=require("@ant-design/icons"),react_router_1=require("react-router");exports.Gridview=function(e){var n=react_router_1.useHistory(),t=e.data,a=react_1.useState(!1),r=a[0],i=a[1],c=react_1.useState([]),o=c[0],l=c[1],u=authprovider_util_1.authProvider.getAccount().accountIdentifier,s=new Apis_service_1.ApiService(u),d=react_1.useCallback(function(){return __awaiter(void 0,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,s.GetRoles()];case 1:return t=e.sent(),l(t),[2]}})})},[]);react_1.useEffect(function(){d()},[]);var f=[{title:"Tipo Trámite",dataIndex:"tramite",key:"tramite"},{title:"Fecha Radicación",dataIndex:"fechaSolicitud",key:"fechaSolicitud"},{title:"Numero Licencia",dataIndex:"numeroCertificado",key:"numeroCertificado"},{title:"Estado",dataIndex:"solicitud",key:"solicitud"},{title:"PDF",dataIndex:"pdf",key:"pdf",render:function(){return React.createElement(icons_1.FilePdfOutlined,{style:{fontSize:"30px"}})}},{title:"Acciones",key:"Acciones",render:function(e,t,a){var r=o[0];return"Ciudadano"===r.rol?React.createElement(antd_1.Button,{key:a,type:"primary",onClick:m,icon:React.createElement(icons_1.EyeOutlined,null)},"Ver"):"Funcionario"===r.rol?React.createElement(React.Fragment,null,React.createElement(antd_1.Button,{type:"primary",key:"ver-"+a,onClick:m,icon:React.createElement(icons_1.EyeOutlined,null)},"Ver"),React.createElement(antd_1.Button,{type:"primary",key:"vali-"+a,onClick:function(){return p(t)},style:{marginLeft:"5px"},icon:React.createElement(icons_1.CheckOutlined,null)},"Validar Informacion")):null}}],m=function(){i(!0)},p=function(e){var r=e.idSolicitud;return __awaiter(void 0,void 0,void 0,function(){var t,a;return __generator(this,function(e){switch(e.label){case 0:return[4,s.getLicencia(r)];case 1:switch(t=e.sent(),a=t[0].idTramite,localStorage.setItem("register",JSON.stringify(t)),a){case"a289c362-e576-4962-962b-1c208afa0273":n.push("/tramites-servicios/licencia/inhumacion-individual");break;case"ad5ea0cb-1fa2-4933-a175-e93f2f8c0060":n.push("/tramites-servicios/licencia/inhumacion-fetal");break;case"e69bda86-2572-45db-90dc-b40be14fe020":n.push("/tramites-servicios/licencia/cremacion-individual");break;case"f4c4f874-1322-48ec-b8a8-3b0cac6fca8e":n.push("/tramites-servicios/licencia/cremacion-fetal")}return[2]}})})};return React.createElement("div",{className:"card card-body py-5 mb-4 fadeInTop"},React.createElement("div",{className:"d-lg-flex align-items-start"},React.createElement(table_1.default,{dataSource:t,columns:f,pagination:{pageSize:50}})),React.createElement(antd_1.Modal,{title:React.createElement("h3",null,"Tabla de Seguimiento"),visible:r,onCancel:function(){i(!1)},width:1e3,okButtonProps:{hidden:!0},cancelText:"Cerrar"},React.createElement(table_1.default,{dataSource:model_1.dataFake,columns:model_1.columnFake,pagination:{hideOnSinglePage:!0}})))};
//# sourceMappingURL=table.min.js.map
